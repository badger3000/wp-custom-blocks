(()=>{"use strict";var e,t={693:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,s=window.wp.components,r=window.wp.data,a=window.wp.coreData,l=window.ReactJSXRuntime;(0,e.registerBlockType)("custom-blocks/related-posts",{edit:function({attributes:e,setAttributes:n}){const{filterBy:c,numberOfPosts:i,displayLayout:d,showFeaturedImage:u,showExcerpt:g,showDate:h,showAuthor:p}=e,b=(0,r.useSelect)((e=>{const{getCurrentPostId:t}=e("core/editor"),{getEntityRecord:o}=e(a.store),s=o("postType","post",t());return{categories:s?.categories||[],tags:s?.tags||[]}}),[]),m=(0,r.useSelect)((e=>{const{getEntityRecords:t}=e(a.store),o={per_page:i,_embed:!0};return"categories"===c&&b.categories.length?o.categories=b.categories:"tags"===c&&b.tags.length&&(o.tags=b.tags),t("postType","post",o)}),[i,c,b]),w=(0,o.useBlockProps)({className:`related-posts-block layout-${d}`});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.InspectorControls,{children:(0,l.jsxs)(s.PanelBody,{title:(0,t.__)("Related Posts Settings","custom-blocks"),children:[(0,l.jsx)(s.SelectControl,{label:(0,t.__)("Filter By","custom-blocks"),value:c,options:[{label:"Categories",value:"categories"},{label:"Tags",value:"tags"}],onChange:e=>n({filterBy:e})}),(0,l.jsx)(s.RangeControl,{label:(0,t.__)("Number of Posts","custom-blocks"),value:i,onChange:e=>n({numberOfPosts:e}),min:1,max:6}),(0,l.jsx)(s.SelectControl,{label:(0,t.__)("Display Layout","custom-blocks"),value:d,options:[{label:"Grid",value:"grid"},{label:"List",value:"list"}],onChange:e=>n({displayLayout:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,t.__)("Show Featured Image","custom-blocks"),checked:u,onChange:()=>n({showFeaturedImage:!u})}),(0,l.jsx)(s.ToggleControl,{label:(0,t.__)("Show Excerpt","custom-blocks"),checked:g,onChange:()=>n({showExcerpt:!g})}),(0,l.jsx)(s.ToggleControl,{label:(0,t.__)("Show Date","custom-blocks"),checked:h,onChange:()=>n({showDate:!h})}),(0,l.jsx)(s.ToggleControl,{label:(0,t.__)("Show Author","custom-blocks"),checked:p,onChange:()=>n({showAuthor:!p})})]})}),(0,l.jsx)("div",{...w,children:(0,l.jsx)("div",{className:"related-posts-grid",children:m?.map((e=>(0,l.jsxs)("div",{className:"related-post-item",children:[u&&e._embedded?.["wp:featuredmedia"]&&(0,l.jsx)("img",{src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered}),(0,l.jsx)("h3",{children:e.title.rendered}),g&&(0,l.jsx)("div",{className:"excerpt",dangerouslySetInnerHTML:{__html:e.excerpt.rendered}}),h&&(0,l.jsx)("div",{className:"post-date",children:new Date(e.date).toLocaleDateString()}),p&&e._embedded?.author&&(0,l.jsxs)("div",{className:"post-author",children:[(0,t.__)("By","custom-blocks")," ",e._embedded.author[0].name]})]},e.id)))})})]})},save:function(){return(0,l.jsx)("div",{...o.useBlockProps.save()})}})}},o={};function s(e){var r=o[e];if(void 0!==r)return r.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,s),a.exports}s.m=t,e=[],s.O=(t,o,r,a)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){for(var[o,r,a]=e[d],n=!0,c=0;c<o.length;c++)(!1&a||l>=a)&&Object.keys(s.O).every((e=>s.O[e](o[c])))?o.splice(c--,1):(n=!1,a<l&&(l=a));if(n){e.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,r,a]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={186:0,918:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[l,n,c]=o,i=0;if(l.some((t=>0!==e[t]))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(c)var d=c(s)}for(t&&t(o);i<l.length;i++)a=l[i],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},o=globalThis.webpackChunkcustom_blocks=globalThis.webpackChunkcustom_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=s.O(void 0,[918],(()=>s(693)));r=s.O(r)})();